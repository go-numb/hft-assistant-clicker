# HFT Useful Click Order 配布用ドキュメント

## 要件
- Google chrome及びMicrosoft Edge(webview2)環境
‐ ビルド用 [Go言語](https://go.dev/dl/go1.20.2.windows-amd64.msi)
- ビルド用 C++ MinGW [Cygwin for MinGW](https://cygwin.com/setup-x86_64.exe)
- 必要ならば、各フォルダを環境変数Pathに追記する（C:\直下で実行するならばシステム変数、C:\Users\[使用ユーザ]直下ならばユーザ変数への登録となります。環境変数はOSやシステムが参照するデータです。詳しくは検索をお願いします。）


## 環境の確認
```
$ go version
// go version go1.20.2 windows/amd64 などの出力があることを確認する
// 表示ない場合システムがGOの場所を把握できてない可能性、「GO言語 環境変数」などで検索し、インストールした場所を環境変数に登録してください
$ gcc --version
// gcc (tdm64-1) 10.3.0 などの出力があることを確認する
// 表示ない場合システムがGCCの場所を把握できてない可能性、「C++ 環境変数」などで検索ください。同上。
$ go env
// set CGO_ENABLED=1 があることを確認する
// 上記以外であれば $ set set CGO_ENABLED=1 コマンドの実行
```


## ビルド環境初回設定時における既知のエラーに対する対処法
````sh
// 必須ファイルを確認せずテスト用にプログラムを実行します。表示がない場合はGoのインストールがデフォルトでない場合が多いです。インストールフォルダや環境変数をご確認ください。
$ go run main.go

// KeyDownなどを含むマウスやキーボードなど入力権限に関するエラーの場合
// 1. まずは入力デバイスを扱うパッケージのアップデートを試します
$ go get -u github.com/vcaesar/gops

// 2. C++の実行ができるか確認してください。できなければ、環境変数が未登録または間違っています
$ gcc --version

// 3. 上記を確認いただき、下記コマンドでエラーの変化をみてください
$ go run main.go

````


## ドキュメント
``` sh
// 以下のコマンドをmain.goがあるディレクトリで実行すると、ソースファイルと関数についてのコメントをローカルのみのウェブサイトとしてドキュメント化します。ドキュメントは以下に続くドキュメントリンクに立ち上がります。非プログラマがソースコードの概要をつかむ際に使用してください。
$ godoc -http=:6060
```
[プログラムソースドキュメント](http://localhost:6060/pkg/hft-assistant-clicker/)
※ godoc コマンドが動かない場合、必要な開発環境が足りていない可能性あります


## フォルダ内説明
HTF-ASSISTANT-CLICKER
├ _data/: デバッグ用のログファイルを保存するフォルダ
├ api/: GUIとの通信部分
├ key/: プログラム強制終了ショートカットキーの監視
├ publisher/: [重要] 配布時に触るファイル群を集約したフォルダ
│ ├ install-script.sh: 実行するとビルド環境を整備するシェルスクリプト
│ ├ PUBLISHER.md: 配布用説明書。ビルド環境や方法を記載。
│
├ setting/: 設定ファイルを取り扱うファイル群を集約したフォルダ
├ trade/: 発注部分を取り扱うファイル群を集約したフォルダ。詳細はソースコードに記載しています。
├ view/: GUI部分を取り扱うファイル群を集約したフォルダであり、静的なファイル群は_buildに整理済み。
├ main.go: 上記各部を組み合わせて司る起動またはビルド用ファイル
├ logic.exe: ビルドすると出力されるアプリファイル。_buildに移動させてください。
├ README.md: 開発者用メモ(非整形)
└ go.mod,go.sum: パッケージ管理情報


## FAQ
**必要なビルド要件について**
環境により、Webview2とC++環境を作る部分で躓く可能性があります。OSやPC環境にもよるのでPC環境と実行したことを添えて開発者にお問い合わせください。

# プロダクト版以降変更点
**プロダクト版v1.3: 2023/04/29 05:00**
‐ 配布用ドキュメント追記

**プロダクト版v1.3: 2023/04/28 16:00**
‐ MT5 EA追加

**プロダクト版v1.25: 2023/04/26 16:00**
‐ OnlyEntry系での決済を有効にしました

**プロダクト版v1.2: 2023/04/11 16:00**
- GUI [注文タイプ]表記整備
- 注文タイプテスト

**プロダクト版v1.1: 2023/04/10 18:00**
- GUI 表記変更
- [[Exit],[ExitBuy],[ExitSell]]追加
- チェック関数追加
- 自動テスト追加
  - 取引履歴配信
  - 速度計測関数追加（react-rate.goの関数を必要なところに追加すれば時間計測ファイルを生成）
- 売買方向指定決済関数追加

# version
**プロダクト版v1.0: 2023/04/07 18:30**
- GUI 表記変更
  
**β0.98: 2023/04/07 16:00**
- GUI 説明文
- GUI 検知間隔選択式へ変更。伴い、プログラム内部調整
- 更新間隔削除
- マウスコントロール性向上

**β0.95: 2023/04/07 4:00**
- GUI 時間間隔などの表記を追加
- GUI 時間間隔の上限を1000[ms], 1000[s]に
- GUI 各パラメータの最小値下限を変更
- GUI [pips]設定値を0.01=1pipsに定義
- [EUR,GBP,AUD,XAU]対USD単位シンボルの[pips]設定値を1/100

**β0.91: 2023/04/06 4:00**
- 説明詳細追記
- 座標登録と保存、読込
- スタート時に設定値及び値の取得のチェック
- APIからのmsgを日本語に統一

**β0.9: 2023/04/05 4:00**
- 座標登録をドラッグアンドドロップに
- GUIに座標表示
- isTrade 変数のコントロールをより厳格に管理